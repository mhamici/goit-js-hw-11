{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderUsers(photos, photoList) {\n    const markup = photos\n        .map((photo) => {\n            return `<li class=\"imgAdded\">\n                <a href=\"${photo.largeImageURL}\" class=\"gallery-item\"> \n                    <img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" width=\"360\" height=\"152\">\n                </a>\n                <div class=\"descr\">\n                    <p><b>Likes</b> ${photo.likes}</p>\n                    <p><b>Views</b> ${photo.views}</p>\n                    <p><b>Comments</b> ${photo.comments}</p>\n                    <p><b>Downloads</b> ${photo.downloads}</p>\n                </div>\n            </li>`;\n        })\n        .join(\"\");\n\n    photoList.insertAdjacentHTML(\"beforeend\", markup);\n}\n","export function fetchPhotos(query) {\n  const searchParams = new URLSearchParams({\n    key: \"45999766-9f9a6b82db6e56573d0cf5f49\",  // Ваш API-ключ\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams.toString()}`;\n\n  return fetch(url)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then((data) => {\n      return data.hits;\n    })\n    .catch((error) => {\n      console.error('Fetch error:', error);\n    });\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Инициализация SimpleLightbox\nconst lightbox = new SimpleLightbox('.list-img a');\n\nconst formNew = document.querySelector(\".formImg\");\nconst photoList = document.querySelector(\".list-img\");\nconst loading = document.querySelector(\".loader\");\nconst inputSearch = document.getElementById(\"search-img\");\n\nimport { renderUsers } from './js/render-functions.js'; // Функция рендеринга\nimport { fetchPhotos } from './js/pixabay-api.js'; // Запрос на API\n\nformNew.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    \n    photoList.innerHTML = \"\"; // Очистка галереи перед новым поиском\n    loading.classList.remove(\"visually-hidden\"); // Показываем спиннер\n\n    const query = inputSearch.value.trim();\n    if (query !== \"\") {\n        fetchPhotos(query)\n            .then((photos) => {\n                loading.classList.add(\"visually-hidden\"); // Скрываем спиннер\n                if (photos.length > 0) {\n                    renderUsers(photos, photoList); // Рендерим фото\n                    lightbox.refresh(); // Обновляем SimpleLightbox\n                } else {\n                    iziToast.error({\n                        title: 'Error',\n                        message: 'Sorry, there are no images matching your search query. Please try again!',\n                        position: 'topRight'\n                    });\n                }\n            })\n            .catch((error) => {\n                loading.classList.add(\"visually-hidden\");\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Error fetching images. Try again later.',\n                    position: 'topRight'\n                });\n                console.error(error);\n            });\n    } else {\n        loading.classList.add(\"visually-hidden\");\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search term!',\n            position: 'topRight'\n        });\n    }\n});"],"names":["renderUsers","photos","photoList","markup","photo","fetchPhotos","query","url","response","data","error","lightbox","SimpleLightbox","formNew","loading","inputSearch","event","iziToast"],"mappings":"6vBAAO,SAASA,EAAYC,EAAQC,EAAW,CAC3C,MAAMC,EAASF,EACV,IAAKG,GACK;AAAA,2BACQA,EAAM,aAAa;AAAA,gCACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sCAGhCA,EAAM,KAAK;AAAA,sCACXA,EAAM,KAAK;AAAA,yCACRA,EAAM,QAAQ;AAAA,0CACbA,EAAM,SAAS;AAAA;AAAA,kBAGhD,EACA,KAAK,EAAE,EAEZF,EAAU,mBAAmB,YAAaC,CAAM,CACpD,CClBO,SAASE,EAAYC,EAAO,CASjC,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEoD,SAAQ,CAAE,GAE/D,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMC,GACEA,EAAK,IACb,EACA,MAAOC,GAAU,CAChB,QAAQ,MAAM,eAAgBA,CAAK,CACzC,CAAK,CACL,CCjBA,MAAMC,EAAW,IAAIC,EAAe,aAAa,EAE3CC,EAAU,SAAS,cAAc,UAAU,EAC3CX,EAAY,SAAS,cAAc,WAAW,EAC9CY,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAc,SAAS,eAAe,YAAY,EAKxDF,EAAQ,iBAAiB,SAAWG,GAAU,CAC1CA,EAAM,eAAc,EAEpBd,EAAU,UAAY,GACtBY,EAAQ,UAAU,OAAO,iBAAiB,EAE1C,MAAMR,EAAQS,EAAY,MAAM,KAAI,EAChCT,IAAU,GACVD,EAAYC,CAAK,EACZ,KAAML,GAAW,CACda,EAAQ,UAAU,IAAI,iBAAiB,EACnCb,EAAO,OAAS,GAChBD,EAAYC,EAAQC,CAAS,EAC7BS,EAAS,QAAO,GAEhBM,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAClC,CAAqB,CAErB,CAAa,EACA,MAAOP,GAAU,CACdI,EAAQ,UAAU,IAAI,iBAAiB,EACvCG,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0CACT,SAAU,UAC9B,CAAiB,EACD,QAAQ,MAAMP,CAAK,CACnC,CAAa,GAELI,EAAQ,UAAU,IAAI,iBAAiB,EACvCG,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACT,SAAU,UACtB,CAAS,EAET,CAAC"}